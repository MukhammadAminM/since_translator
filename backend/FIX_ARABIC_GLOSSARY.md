# Исправление пустого арабского глоссария

## Проблема

Файл `glossary_arabic_to_en.json` пустой, хотя в папке `glossary/arabic/` есть PDF файлы.

## Причина

1. **PDF библиотеки не установлены** - PyPDF2, pdfplumber или pymupdf не установлены в окружении
2. **Парсер не смог извлечь текст** из PDF файлов из-за отсутствия библиотек

## Решение

### Шаг 1: Установите зависимости

```bash
cd backend
pip install -r requirements.txt
```

Это установит:
- PyPDF2
- pdfplumber (лучше работает с арабским текстом)
- pymupdf (альтернатива)

### Шаг 2: Пересоберите глоссарий

```bash
python build_glossary.py
```

### Шаг 3: Проверьте результат

Проверьте файл `glossary/glossary_arabic_to_en.json` - он должен содержать термины.

## Тестирование

Если хотите протестировать извлечение текста из арабских PDF:

```bash
python test_arabic_pdf.py
```

Этот скрипт покажет:
- Сколько терминов извлечено из каждого PDF
- Примеры извлеченных терминов
- Ошибки, если они есть

## Улучшения парсера

Парсер был улучшен для работы с арабским текстом:

1. **Поддержка нескольких PDF библиотек**:
   - PyPDF2 (базовая)
   - pdfplumber (лучше для таблиц)
   - pymupdf (лучше для RTL текста)

2. **Улучшенный парсинг разделителей**:
   - Поддержка различных разделителей: `–`, `—`, `-`, `:`, `=`, `→`
   - Распознавание арабского текста (Unicode диапазон \u0600-\u06FF)
   - Обработка RTL (справа налево) текста

3. **Гибкий поиск терминов**:
   - Арабский текст + разделитель + английский текст
   - Английский текст + разделитель + арабский текст

## Если проблема сохраняется

1. **Проверьте формат PDF файлов**:
   - Откройте PDF вручную и проверьте структуру
   - Возможно, текст в PDF представлен как изображения (требуется OCR)

2. **Проверьте кодировку**:
   - Убедитесь, что PDF содержит текст, а не только изображения

3. **Используйте тестовый скрипт**:
   ```bash
   python test_arabic_pdf.py
   ```
   Это покажет детальную информацию о проблемах

## Альтернативное решение

Если PDF файлы содержат только изображения, можно:
1. Конвертировать PDF в TXT вручную
2. Сохранить в формате: `Арабский термин – English translation`
3. Поместить в папку `glossary/arabic/`
4. Пересобрать глоссарий


