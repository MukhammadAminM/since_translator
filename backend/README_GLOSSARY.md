# Глоссарий для переводчика

## Описание

Система использует глоссарий терминов для обеспечения точности перевода специализированной терминологии. Глоссарий автоматически загружается и используется при переводе через AI модель.

## Структура

Глоссарий находится в папке `backend/glossary/` и организован по языкам:

```
glossary/
├── russian/     # Русские термины
├── arabic/     # Арабские термины
├── chinise/    # Китайские термины
└── english/    # Английские термины (справочные)
```

## Формат исходных файлов

Поддерживаются следующие форматы:
- **TXT**: `Русский термин – English translation`
- **PDF**: Аналогичный формат в тексте
- **DOCX**: Аналогичный формат в параграфах
- **XLSX**: Колонка A - исходный термин, колонка B - перевод

### Пример формата TXT:

```
1. Ракета-носитель – Launch vehicle
2. Ступень – Stage
3. Универсальный ракетный модуль (УРМ) – Universal rocket module (URM)
```

## Построение JSON глоссариев

Для создания JSON файлов из исходных файлов запустите:

```bash
cd backend
python build_glossary.py
```

Это создаст JSON файлы:
- `glossary/glossary_russian_to_en.json`
- `glossary/glossary_arabic_to_en.json`
- `glossary/glossary_chinise_to_en.json`

## Формат JSON

```json
{
  "ракета-носитель": {
    "source": "Ракета-носитель",
    "target": "Launch vehicle",
    "source_abbr": null,
    "target_abbr": null
  },
  "урм": {
    "source": "Универсальный ракетный модуль (УРМ)",
    "target": "Universal rocket module (URM)",
    "source_abbr": "УРМ",
    "target_abbr": "URM"
  }
}
```

## Использование в переводе

Глоссарий автоматически загружается при инициализации `TranslationService` и используется в промптах для AI модели. Это гарантирует:

1. **Точность терминов**: Специализированные термины переводятся точно согласно глоссарию
2. **Консистентность**: Одинаковые термины всегда переводятся одинаково
3. **Аббревиатуры**: Правильная обработка аббревиатур и их расшифровок

## Добавление новых терминов

1. Добавьте файлы с терминами в соответствующую папку языка
2. Запустите `python build_glossary.py` для обновления JSON
3. Перезапустите backend сервер

## Примечания

- Глоссарий загружается при старте сервера
- Максимум 100 терминов включается в каждый промпт (для экономии токенов)
- Если глоссарий не найден, перевод работает без него (с предупреждением)



